// @if vitest
import { describe, it } from 'vitest';
// @endif
import { MyApp } from '../src/my-app';
import { createFixture } from '@aurelia/testing';
// @if jest
import { bootstrapTestEnvironment } from './setup';

beforeAll(bootstrapTestEnvironment);
// @endif

describe('my-app', () => {
  it('should render message', async () => {
    const { assertText, startPromise, stop } = createFixture(
      '<my-app></my-app>',
      {},
      [MyApp],
    );

    try {
      await startPromise;
      assertText('Hello World!', { compact: true });
    } finally {
      await stop(true);
    }
  });
});
